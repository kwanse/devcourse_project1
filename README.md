# 고려한 부분


## 구조
### 도메인 단위 패키지 구조
이후 기능 추가 및 협업 시 도메인 단위로 패키지를 나누는 것이 계층형으로 나누는 것 보다 충돌이 덜 일어날 것으로 판단

### 인터페이스를 중심으로 데이터를 주고 받도록 설계
- 최대한 자바를 제외한 의존성을 분리하고자 인터페이스 생성
- Controller 는 UseCase(Service 추상화) 에게 요청하는 형태
- Adapter(Repository 추상화) 를 만드는 것이 과연 옳은 판단인지 고민...(현재 적용 X)

## 기능

### Admin 계정에게 Token(Access & Refresh) 발급
- Access token 의 유효시간을 짧게 설정하고 Refresh Token 은 길게, 중요한 정보를 가지지 않도록 설정

### 회원 관리 없이 장바구니를 사용하는건 어떨까
- 회원을 식별하기 위해 Cookie 발급 -> 중요한 정보가 없기에 Cookie 가 적합할 것이라 생각
- Cookie 값으론 Random UUID 사용
- 데이터 변화가 자주 생길 것 같아 DB 가 아닌 메모리에 저장하는 방식 사용 -> ConcurrentHashMap 으로 동시성 고려
- Orders 에서 해당 메모리를 참조하여 DB 에 값 입력
- 데이터가 과도하게 쌓이는 것을 방지하기 위해 ScheduledExecutorsService 를 이용해 3시간마다 해당 값 제거 
- 스레드 10개 미리 생성하여 초기화 업무 할당

### 이후에 회원이 주문 정보를 조회해야 할 땐 어떻게 할까
- 결제 시 비밀번호를 입력하도록 스키마 변경 -> email 과 비밀번호를 사용해서 조회 
- 이후 주문정보 조회 요청 시 email 과 결제 시 입력했던 비밀번호 입력
- 인증 완료 시 Token 발급
